<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Metadata and responsive settings -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Form</title> 

    <!-- Link to external stylesheet -->
    <link rel="stylesheet" href="styles.css">

    <!-- Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <!-- SMTP.js library (unused in this version) -->
    <script src="https://smtpjs.com/v3/smtp.js"></script>

    <!-- SweetAlert2 for stylish alert popups -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- EmailJS (also not used here) -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script src="script.js"></script>
</head>

<body>
    <!-- Header section -->
    <header>
        <header class="top-header">
        <div class="header-left">
            <img src="Images/download.png" alt="Logo">
            <h1>Advancing Medicine with Technology & AI</h1>
        </div>
        </header>

        <!-- Navigation bar -->
        <div class="nav">
            <nav class="compact-nav">
                <ul>
                    <li><a href="index.html"><ion-icon name="home-outline"></ion-icon><span>Home</span></a></li>
                    <li><a href="AboutUs.html"><ion-icon name="person-outline"></ion-icon><span>Profile</span></a></li>
                    <li><a href="information.html"><ion-icon name="information-circle-outline"></ion-icon><span>Information</span></a></li>
                    <li><a href="demo.html"><ion-icon name="play-circle-outline"></ion-icon><span>Demo</span></a></li>
                    <li><a href="https://healthview.uni-mainz.de/segmentation-3d-prediction/" target="_blank"><ion-icon name="sparkles-outline"></ion-icon><span>3D Prediction</span></a></li>
                    <li class="active"><a href="ContactUS.html"><ion-icon name="mail-outline"></ion-icon><span>Contact</span></a></li>
                </ul>
            </nav>

            <!-- JavaScript for active menu highlighting -->
            <script>
                const list = document.querySelectorAll('.list');
                function activeLink() {
                    list.forEach((item) => item.classList.remove('active'));
                    this.classList.add('active');
                }
                list.forEach((item) =>
                    item.addEventListener('click', activeLink));
            </script>

            <!-- Ionicons icon library (used for nav icons) -->
            <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
            <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
        </div>
    </header>

    <!-- Main content area with contact form -->
    <div class="hero">
        <!-- Contact form with name, email, and message -->
        <form id="contactForm">
            <!-- Name input -->
            <div class="input-group">
                <input type="text" id="name" name="name" required>
                <label for="name"><i class="fas fa-user"></i> Your name</label>
            </div>

            <!-- Email input -->
            <div class="input-group">
                <input type="email" id="email" name="email" required>
                <label for="email"><i class="fas fa-envelope"></i> Your e-mail</label>
            </div>

            <!-- Message textarea -->
            <div class="input-group">
                <textarea id="message" name="message" rows="8" required></textarea>
                <label for="message"><i class="fas fa-comments"></i> Your message</label>
            </div>

            <!-- Submit button -->
            <button type="submit">SUBMIT <i class="fas fa-paper-plane"></i></button>
        </form>

        <!-- SweetAlert and fetch-based form submission -->
        <script>
        document.getElementById("contactForm").addEventListener("submit", function(event) {
            event.preventDefault();  // Prevent page reload

            // Gather form data
            let formData = new FormData(this);

            // Submit form data to formsubmit.co using AJAX
            fetch("https://formsubmit.co/ajax/hlane@uni-mainz.de", {
                method: "POST",
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.success === "true") {
                    // Show success popup using SweetAlert2
                    Swal.fire({
                        icon: "success",
                        title: "Message Sent!",
                        text: "Your message has been sent successfully.",
                        timer: 2000,
                        showConfirmButton: false
                    }).then(() => {
                        // Redirect to homepage after popup
                        window.location.href = "index.html";
                    });
                }
            })
            .catch(error => {
                // Show error popup if request fails
                Swal.fire({
                    icon: "error",
                    title: "Oops...",
                    text: "Something went wrong. Please try again!"
                });
            });
        });
        </script>
    </div>
</body>
</html>
